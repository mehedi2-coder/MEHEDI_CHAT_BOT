const cron = require("node-cron");

module.exports.config = {
  name: "jummaday",
  version: "1.0.1",
  credits: "Mehedi Hasan",
  description: "à¦ªà§à¦°à¦¤à¦¿ à¦¶à§à¦•à§à¦°à¦¬à¦¾à¦° à¦¸à¦•à¦² à¦—à§à¦°à§à¦ªà§‡ Jumma Mubarak à¦¶à§à¦­à§‡à¦šà§à¦›à¦¾ à¦ªà¦¾à¦ à¦¾à¦¬à§‡ à¦¬à¦¡à¦¼ à¦•à§à¦¯à¦¾à¦ªà¦¶à¦¨à¦¸à¦¹"
};

// à¦¬à¦¡à¦¼ Jumma Mubarak à¦•à§à¦¯à¦¾à¦ªà¦¶à¦¨
const messages = [
  `ğŸŒ™âœ¨ğŸŒ¸ Assalamu Alaikum Wa Rahmatullahi Wa Barakatuh ğŸŒ¸âœ¨ğŸŒ™

ğŸ¤²ğŸ’– à¦†à¦œà¦•à§‡à¦° à¦à¦‡ à¦ªà¦¬à¦¿à¦¤à§à¦° à¦¦à¦¿à¦¨à§‡ à¦†à¦²à§à¦²à¦¾à¦¹ à¦¤à¦¾à¦†à¦²à¦¾à¦° à¦°à¦¹à¦®à¦¤, à¦¬à¦°à¦•à¦¤ à¦“ à¦®à¦¾à¦—à¦«à¦¿à¦°à¦¾à¦¤ à¦¬à¦°à§à¦·à¦¿à¦¤ à¦¹à§‹à¦• à¦†à¦®à¦¾à¦¦à§‡à¦° à¦¸à¦¬à¦¾à¦° à¦œà§€à¦¬à¦¨à§‡à¥¤
ğŸ•‹ğŸ•Œ à¦œà§à¦®à§à¦®à¦¾à¦° à¦¦à¦¿à¦¨à§‡à¦° à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ à¦¦à§‹à§Ÿà¦¾ à¦•à¦¬à§à¦² à¦¹à§‹à¦•,
ğŸŒ¹ğŸ•Šï¸ à¦¹à§ƒà¦¦à§Ÿà§‡ à¦¶à¦¾à¦¨à§à¦¤à¦¿ à¦†à¦¸à§à¦•,
ğŸ’«ğŸŒŸ à¦œà§€à¦¬à¦¨ à¦­à¦°à§‡ à¦‰à¦ à§à¦• à¦¸à§à¦– à¦“ à¦¬à¦°à¦•à¦¤à§‡à¥¤

ğŸŒºğŸ¤ à¦¸à¦¬à¦¾à¦‡à¦•à§‡ à¦œà§à¦®à§à¦®à¦¾ à¦®à§‹à¦¬à¦¾à¦°à¦• ğŸ¤ğŸŒº

âœ¨ğŸª„ à¦†à¦œà¦•à§‡à¦° à¦à¦‡ à¦¦à¦¿à¦¨à§‡ à¦†à¦®à¦°à¦¾ à¦¸à¦¬à¦¾à¦‡ à¦¬à§‡à¦¶à¦¿ à¦¬à§‡à¦¶à¦¿ à¦¦à¦°à§à¦¦ à¦¶à¦°à§€à¦« à¦ªà¦¾à¦  à¦•à¦°à¦¿!
ğŸ•Œâœ¨ à¦†à¦²à§à¦²à¦¾à¦¹ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦ˆà¦®à¦¾à¦¨à¦•à§‡ à¦¦à§ƒà§ à¦•à¦°à§à¦•, à¦—à§à¦¨à¦¾à¦¹ à¦®à¦¾à¦« à¦•à¦°à§à¦• à¦à¦¬à¦‚ à¦œà¦¾à¦¨à§à¦¨à¦¾à¦¤à§à¦² à¦«à§‡à¦°à¦¦à§Œà¦¸ à¦¦à¦¾à¦¨ à¦•à¦°à§à¦¨à¥¤ à¦†à¦®à§€à¦¨ ğŸ¤²ğŸŒ™`
];

module.exports.onLoad = function ({ api }) {
  // à¦ªà§à¦°à¦¤à¦¿ à¦¶à§à¦•à§à¦°à¦¬à¦¾à¦° à¦¸à¦•à¦¾à¦² à§®à¦Ÿà¦¾à§Ÿ à¦®à§‡à¦¸à§‡à¦œ à¦ªà¦¾à¦ à¦¾à¦¬à§‡
  cron.schedule("0 8 * * 5", () => {
    const randomMsg = messages[Math.floor(Math.random() * messages.length)];

    // à¦¸à¦•à¦² à¦—à§à¦°à§à¦ªà§‡ à¦ªà¦¾à¦ à¦¾à¦¨à§‹
    for (const threadID of global.data.allThreadID) {
      api.sendMessage(randomMsg, threadID);
    }
  }, { timezone: "Asia/Dhaka" });
};
